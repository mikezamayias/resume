% Copyright (c) 2022 Mike Zamayias All rights reserved.
% Use of this source code is governed by a BSD-style
% license that can be found in the LICENSE file.

% !TEX TS-program = XeLaTeX
% !TEX encoding = UTF-8 Unicode
% !TEX spellverify = gr-GR

\documentclass[10pt]{article}
\usepackage[a4paper, margin=1cm]{geometry}
\usepackage{polyglossia}
\usepackage{fontspec}
\usepackage{minted}
\usepackage{amsmath}
\usepackage{paracol}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{xcolor}
\usepackage{fontawesome}
\usepackage[hidelinks]{hyperref}

% debugging
\usepackage{showframe}

% tikz stuff
\usetikzlibrary{shapes, backgrounds,mindmap, trees}

% polyglossia stuff
\setdefaultlanguage{greek}
\setotherlanguage{english}

% fontspec stuff
\newfontfamily\greekfont{JetBrains Mono}
\newfontfamily\greekfontsf{JetBrains Mono}
\setmainfont{JetBrains Mono}
\setsansfont{JetBrains Mono}
\setmonofont{FiraCode Nerd Font}

% paragraph stuff
\setlength{\parindent}{0.1cm}

% colors
\definecolor{light}{HTML}{F3F3F3}
\definecolor{dark}{HTML}{303030}
\definecolor{violet}{HTML}{646CFF}
\definecolor{blue}{HTML}{0078D4}
\definecolor{green}{HTML}{41B883}

% returns minipage width minus three times \fboxsep
% to keep padding included in width calculations
% can also be used for other boxes / environments
\newcommand{\mpwidth}{\linewidth-3\fboxsep}

% centers text vertically in line: https://tex.stackexchange.com/a/17102
% param 1: any
\newcommand*{\vcenteredhbox}[1]{\begingroup
\setbox0=\hbox{#1}\parbox{\wd0}{\box0}\endgroup}

% base class to wrap any text based stuff here. Renders like a paragraph.
% Allows complex commands to be passed, too.
% param 1: *any
\newcommand{\cvtext}[1] {
	\begin{tabular*}{1\mpwidth}{p{0.98\mpwidth}}
		\parbox{1\mpwidth}{#1}
	\end{tabular*}
}

% Renders a a CV section headline with a nice underline in accent color.
% param 1: section title
\newcommand{\cvsection}[1] {
  \vspace{0.6cm}
	\cvtext{
    \textbf{\LARGE{\textcolor{dark}{#1}}}\\[-6pt]
    \textcolor{green}{ \rule{0.1\textwidth}{2.1pt} }\\
  }
  \\
}

% Renders an active social media button.
% param 1: link
% param 1: icon
\newcommand{\socialbutton}[2]{
  \href{#1}{\textcolor{violet}{\vcenteredhbox{\Huge#2}}}
}

% Renders a progress-bar to indicate a certain skill in percent.
% param 1: name of the skill / tech / etc.
% param 2: level (for example in years)
% param 3: percent, values range from 0 to 1
\newcommand{\cvskill}[3] {
  \indent
	\begin{tabular*}{1\mpwidth}{p{0.63\mpwidth}  r}
    \textcolor{dark}{\textbf{#1}} & \textcolor{violet}{#2}
	\end{tabular*}
  \\[-0.1cm]
  \indent
	\begin{tabular}{r}
    \begin{tikzpicture}[scale=1,rounded corners=2.1pt,very thin]
      \fill [light] (0,0) rectangle (1\mpwidth, 0.15);
      \fill [violet] (0,0) rectangle (#3\mpwidth, 0.15);
    \end{tikzpicture}%
  \end{tabular}
}


\begin{document}
\columnratio{0.36}
\setlength{\columnsep}{3em}
\setlength{\columnseprule}{6pt}
\colseprulecolor{green}
\begin{paracol}{2}
\begin{leftcolumn}

\vfill\null
\cvsection{Επικοινωνία}
\indent
\begin{tabular}{r}
  \socialbutton{mailto:mzamagias@gmail.com}{\faEnvelopeSquare}
  \socialbutton{https://github.com/mzamayias}{\faGithubSquare}
  \socialbutton{https://linkedin.com/in/mzamayias/}{\faLinkedinSquare}
  \socialbutton{tel:+306942422485}{\faPhoneSquare}
\end{tabular}
\vfill\null


\vfill\null
\cvsection{Γνώσεις}
\cvskill{Python}{5+ χρόνια}{1}\\[0.6cm]
\cvskill{Anaconda}{5+ χρόνια}{1}\\[0.6cm]
\cvskill{Dart}{3+ χρόνια}{0.6}\\[0.6cm]
\cvskill{Flutter}{3+ χρόνια}{0.6}\\[0.6cm]
\cvskill{JS/TS, HTML, CSS}{1+ χρόνια}{0.2}\\[0.6cm]
\cvskill{Web Development}{1+ χρόνια}{0.2}

% \vfill\null
% \cvsection{Γλώσσες}
% \cvskill{C}{3+ χρόνια}{0.6}\\[0.6cm]
% \cvskill{Python}{5+ χρόνια}{1}\\[0.6cm]
% \cvskill{Dart}{3+ χρόνια}{0.6}\\[0.6cm]
% \cvskill{JS/TS, HTML, CSS}{<1 χρόνια}{0.2}

% \cvsection{Framworks}
% \cvskill{Anaconda}{4+ χρόνια}{0.8}\\[0.6cm]
% \cvskill{Flutter}{3+ χρόνια}{0.6}\\[0.6cm]
% \cvskill{Web Development}{1+ χρόνια}{0.2}

% \cvsection{Λειτουργικά Συστήματα}
% \cvskill{Windows}{3+ χρόνια}{0.6}\\[0.6cm]
% \cvskill{Linx}{3+ χρόνια}{0.6}\\[0.6cm]
% \cvskill{macOS}{1+ χρόνια}{0.2}
\newpage
\end{leftcolumn}
\end{paracol}
\end{document}